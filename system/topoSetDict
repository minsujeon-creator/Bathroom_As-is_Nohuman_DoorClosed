/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v2312                                 |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      topoSetDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

actions
(
    // Faces on the wall patch that contains the door (change 'room' if needed)
    {
        name    wallFaces;
        type    faceSet;
        action  new;
        source  patchToFace;
        sourceInfo
        {
            patches ( room );
        }
    }

    // Vent (ceiling corner)
    {
        name        ventFaces;
        type        faceSet;
        action      new;
        source      boxToFace;
        sourceInfo
        {
            box (1.7 0.266 2.24999) (1.9 0.466 2.7);
        }
    }

    // Big door area (slightly oversized)
    {
        name        doorFaces;
        type        faceSet;
        action      new;
        source      boxToFace;
        sourceInfo
        {
            box (0.0218 -1 0.046) (0.768 0.0001 2.154);
        }
    }

    // Cells for source term (unchanged)
    {
        name    pooCells;
        type    cellSet;
        action  new;
        source  boxToCell;
        sourceInfo
        {
            box (0.2 0.85 0.245) (0.5 1.25 0.255);
        }
    }

    // Solid closed-door region to exclude
    {
        name        doorClosedFaces;
        type        faceSet;
        action      new;
        source      boxToFace;
        sourceInfo
        {
            box (0.0248 -1 0.05) (0.765 0.0001 2.15);
        }
    }

    // ---------- Build the slit: doorFaces minus doorClosedFaces ----------
    // Start with a copy of the big door set
    {
        name        doorSlitFaces;
        type        faceSet;
        action      new;
        source      setToFace;
        sourceInfo
        {
            set doorFaces;
        }
    }

    // Subtract the closed part
    {
        name        doorSlitFaces;
        type        faceSet;
        action      delete;
        source      setToFace;
        sourceInfo
        {
            set doorClosedFaces;
        }
    }

    // Keep only faces that actually lie on the wall patch
    {
        name        doorSlitFaces;
        type        faceSet;
        action      subset;
        source      setToFace;
        sourceInfo
        {
            set wallFaces;
        }
    }
);
// ************************************************************************* //
