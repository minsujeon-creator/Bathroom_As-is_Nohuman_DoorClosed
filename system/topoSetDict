/*--------------------------------*- C++ -*----------------------------------*\
| =========                 | OpenFOAM: v2412                                 |
\*---------------------------------------------------------------------------*/
FoamFile{version 2.0; format ascii; class dictionary; object topoSetDict;}

actions
(
    // wall patch that contains the door
    {
        name wallFaces; type faceSet; action new; source patchToFace;
        sourceInfo { patches ( room ); }
    }

    // vent (unchanged)
    {
        name ventFaces; type faceSet; action new; source boxToFace;
        sourceInfo { box (1.7 0.266 2.24999) (1.9 0.466 2.7); }
    }

    // poo cells (unchanged)
    {
        name pooCells; type cellSet; action new; source boxToCell;
        sourceInfo { box (0.2 0.85 0.245) (0.5 1.25 0.255); }
    }

    // ---------- DOOR: one-sided in y: [-0.005, 0.0] ----------
    // (A) door window on wall
    {
        name doorBoxFaces; type faceSet; action new; source boxToFace;
        sourceInfo
        {
            // one-sided band: y in [-0.005, 0.0]
            box (0.021  -0.005  0.046)
                (0.769   0.00001 2.154);
        }
    }
    // (B) closed (solid) part, also one-sided in y
    {
        name doorClosedBoxFaces; type faceSet; action new; source boxToFace;
        sourceInfo
        {
            // one-sided band: y in [-0.005, 0.0]
            box (0.025  -0.005  0.050)
                (0.765   0.00001 2.150);
        }
    }

    // 2) start (or overwrite) result set
    // If the set already existed, you can reset it first:
    { name resultFaces; type faceSet; action clear; }     // wipes previous content

    // 3) result = outer
    { name resultFaces; type faceSet; action add;    source faceToFace; sourceInfo{ set doorBoxFaces; } }

    // 4) result -= inner
    { name resultFaces; type faceSet; action delete; source faceToFace; sourceInfo{ set doorClosedBoxFaces; } }
);
